generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model Forest {
  mId          Int    @id @default(autoincrement()) @map("m_id")
  mName        String @unique @map("m_name")
  mCoordinates Json   @map("m_coordinates")

  @@map("forest")
}

model Notification {
  mId        Int      @id @default(autoincrement()) @map("m_id")
  mTitle     String   @map("m_title")
  mBody      String   @map("m_body")
  mImage     String?  @map("m_image")
  mType      String   @map("m_type")
  mSeverity  String   @map("m_severity")
  mForestId  Int?     @map("m_forest_id")
  mCreatedAt DateTime @default(now()) @map("m_created_at")

  @@index([mForestId])
  @@index([mCreatedAt(sort: Desc)])
  @@map("notification")
}

model Statistic {
  mId        Int      @id @default(autoincrement()) @map("m_id")
  mForestId  Int      @map("m_forest_id")
  mCreatedAt DateTime @map("m_created_at")

  mFFMC        Float @map("m_FFMC")
  mDMC         Float @map("m_DMC")
  mDC          Float @map("m_DC")
  mISI         Float @map("m_ISI")
  mHumidity    Float @map("m_humidity")
  mTemperature Float @map("m_temperature")
  mWindSpeed   Float @map("m_wind_speed")
  mRainfall    Float @map("m_rain_fall")

  mCondition Json @map("m_condition")

  mRawData Json @map("m_raw_data")

  @@index([mForestId, mCreatedAt(sort: Desc)])
  @@index([mCreatedAt(sort: Desc)])
  @@map("statistic")
}
